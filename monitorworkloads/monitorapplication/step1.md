You can find all of the YAML configuration files for our app in deploy/generic-k8s/ecommerce-app in the IDE. In a Kubernetes environment, the main configuration process for the Datadog agent is through environment variables. Let's start by reviewing what's new in advertisements.yaml. 
1.  Open advertisements.yaml and scroll down to line 27. We have updated the command run from flask to ddtrace-run with flask as the first argument. 
2.  Then in spec.template.spec.containers.env are the environment variables. DATADOG_SERVICE_NAME overrides the service name to be used for the program. DD_ENV defines the environment used, such as prod or staging. DD_AGENT_HOST overrides the address of the trace agent host that the default tracer will attempt to submit to, DD_LOGS_INJECTION enables logs injection in Python. DD_PROFILING_ENABLED enables profiling when you use ddtrace-run. 
3.  In discounts.yaml you can see that we have made the same changes.
4.  In frontend, you can see there are a few environment variables set. Since frontend, discounts, and advertisements are Python and Ruby apps, we are relying on APM for much of the integration, along with some collection of metrics within the applications themselves. You can learn more about the exact steps to follow here in our APM courses. 